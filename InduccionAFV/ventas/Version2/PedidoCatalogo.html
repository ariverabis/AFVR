<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual de Inducci칩n AFV - Interactivo</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <style>
        :root {
            --primary-blue: #007BFF;
            --info-bg: #e3f2fd;
            --info-border: #007BFF;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #ffffff;
            margin: 0;
            padding: 0;
            color: #333;
        }

        /* Bot칩n Flotante de Descarga */
        .download-box {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .btn-generate {
            background-color: #27ae60;
            color: white;
            padding: 15px 25px;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: 0.3s;
        }

        .btn-generate:hover { transform: scale(1.05); background-color: #1e8449; }

        /* Contenedor Principal para el PDF */
        #manual-container {
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
            background: white;
        }

        /* Estilo de cada l치mina */
        .slide {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            page-break-after: always; /* Importante para el PDF */
            border-bottom: 1px solid #f0f0f0;
        }

        /* MARCO DEL TEL칄FONO PULIDO */
        .phone-mockup {
            width: 320px;
            height: 640px;
            background-image: url('preview.jpg'); /* Debe estar en la carpeta */
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            position: relative;
            border-radius: 40px;
            overflow: hidden; /* Esto elimina las esquinas blancas */
        }

        .screen {
            position: absolute;
            top: 86px;
            left: 36px;
            width: 248px;
            height: 440px;
            background-color: white;
            display: flex;
            flex-direction: column;
            border: 1px solid #ddd;
        }

        .app-bar {
            background-color: var(--primary-blue);
            color: white;
            padding: 10px;
            font-size: 11px;
            font-weight: bold;
        }

        /* ETIQUETAS DE TEXTO (Azul Institucional) */
        .label {
            background-color: var(--info-bg);
            color: #01579b;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid var(--info-border);
            font-size: 13px;
            width: 200px;
            position: absolute;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            line-height: 1.4;
        }

        .left { left: 50px; }
        .right { right: 50px; }

        .label::after {
            content: "";
            position: absolute;
            top: 50%;
            width: 30px;
            height: 2px;
            background: var(--info-border);
        }
        .left::after { left: 100%; }
        .right::after { right: 100%; }

        h2.slide-title {
            position: absolute;
            top: 40px;
            color: var(--primary-blue);
            width: 100%;
            text-align: center;
        }

        .content-mock { padding: 10px; font-size: 11px; }
        .row-mock { background: #f5f5f5; padding: 10px; margin-bottom: 5px; border-radius: 3px; font-weight: bold; border: 1px solid #eee;}
    </style>
</head>
<body>

    <div class="download-box">
        <button onclick="descargarManual()" class="btn-generate">游닌 Descargar Manual PDF</button>
    </div>

    <div id="manual-container">
        
        <div class="slide">
            <h2 class="slide-title">Fase I: Registro en Plataforma</h2>
            <div class="label left"><strong>REGISTRO:</strong> Es indispensable completar el formulario SDS para activar el usuario.</div>
            <div class="phone-mockup">
                <div class="screen">
                    <div class="app-bar">Registro Plataforma</div>
                    <div class="content-mock">
                        <div style="color: #007BFF; text-align: center; margin-top: 50px;">
                            <p>Abriendo Formulario...</p>
                            <small>Siga las instrucciones en pantalla</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="label right"><strong>ENLACE:</strong> El acceso se realiza v칤a Google Forms compartido.</div>
        </div>

        <div class="slide">
            <h2 class="slide-title">Fase II: Men칰 Principal</h2>
            <div class="label left"><strong>PEDIDOS:</strong> Inicia la toma de pedidos navegando por el cat치logo.</div>
            <div class="phone-mockup">
                <div class="screen">
                    <div class="app-bar">073 - Men칰 Ventas</div>
                    <div class="content-mock">
                        <div class="row-mock">Pedidos del cat치logo</div>
                        <div class="row-mock">Clientes</div>
                        <div class="row-mock">Consultas</div>
                        <div class="row-mock">Gesti칩n de Ventas</div>
                    </div>
                </div>
            </div>
            <div class="label right"><strong>GESTI칍N:</strong> Sincronice sus datos al final del d칤a.</div>
        </div>

        <div class="slide">
            <h2 class="slide-title">Fase III: Consulta de Pedido</h2>
            <div class="label left"><strong>DETALLES:</strong> Visualice productos y cantidades antes de transmitir.</div>
            <div class="phone-mockup">
                <div class="screen">
                    <div class="app-bar">118 - Detalle Pedido</div>
                    <div class="content-mock">
                        <div style="background:#007BFF; color:white; padding:5px; font-size:10px;">Cliente: 7777008</div>
                        <div style="padding:5px; border-bottom:1px solid #ddd;">FAROL NEGRO - Cant: 1.0</div>
                        <div style="padding:5px; border-bottom:1px solid #ddd;">PINTURA SPRAY - Cant: 2.0</div>
                    </div>
                </div>
            </div>
            <div class="label right"><strong>COTIZACI칍N:</strong> Genere el documento para aprobaci칩n del cliente.</div>
        </div>

    </div>

    <script>
        function descargarManual() {
            const element = document.getElementById('manual-container');
            
            const opt = {
                margin:       0,
                filename:     'Manual_Induccion_AFV_Febeca.pdf',
                image:        { type: 'jpeg', quality: 0.98 },
                html2canvas:  { 
                    scale: 2, 
                    useCORS: true,
                    letterRendering: true
                },
                jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };

            // Ejecuta la descarga. El navegador abrir치 el cuadro de di치logo de guardado.
            html2pdf().set(opt).from(element).save();
        }
    </script>
</body>
</html>